
### 基础 inode 具备的功能与属性

1. **唯一标识（ID）**  
   每个 inode 都有一个唯一编号（如 inode number），用来唯一标识文件或目录。

2. **文件/目录类型**  
   标明是普通文件、目录、符号链接、设备文件等。

3. **权限与所有者信息**  
   通常包括所有者（UID）、组（GID）、权限（rwx）、特殊位（如 setuid、setgid、sticky bit）。

4. **时间戳**
    - 创建时间（ctime）
    - 修改时间（mtime）
    - 访问时间（atime）

5. **大小**  
   文件的字节数，目录则可能统计条目数或所有子项大小。

6. **数据块指针**  
   指向实际存储内容的物理块号或磁盘块索引（如 direct, indirect, double indirect block pointers）。

7. **硬链接计数**  
   记录有多少个目录项（名字）指向这个 inode，硬链接删除计数为0时才释放 inode。

8. **扩展属性**  
   如 ACL（访问控制列表）、扩展安全属性、xattr（extended attributes）。

9. **符号链接目标**  
   如果 inode 类型为符号链接，会包含目标路径信息。

---

### 常见 inode 相关功能

- **分配与回收**  
  管理 inode 的分配与回收，确保文件系统不会“泄露”inode。
- **权限检查**  
  检查用户/进程对 inode 的访问权限。
- **文件内容寻址**  
  通过 inode 的块指针找到文件实际内容的位置，支持大文件寻址（多级间接块）。
- **目录管理**  
  目录也是一种文件，其内容是目录项列表，每个条目关联一个 inode。

---

### inode 不直接包含的内容

- **文件名**  
  文件名和 inode 是分离的，文件名存储在目录项（Directory Entry）中，目录项才把名字和 inode number 关联起来。
- **父目录信息**  
  一般 inode 不直接保存父目录引用（但可以通过..目录项间接获得）。

---

### 扩展（进阶）功能

- **快照（snapshot）支持**
- **版本控制**
- **文件锁信息**
- **稀疏文件支持**
- **配合日志/写时复制机制（如ext4、btrfs等）**

---

### 总结

**inode 是文件系统的“元数据中心”，承担了文件、目录的绝大部分核心属性和寻址功能。**  
理解 inode 的设计，有助于理解 Unix/Linux 文件系统的底层结构和各种高级特性。
